<!doctype html>
<meta charset="utf-8" />
<meta name="color-scheme" content="dark light" />
<meta name="robots" content="noindex" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>00:00</title>

<style>
  body {
    align-items: center;
    box-sizing: border-box;
    display: flex;
    font-family: monospace;
    gap: 1rem;
    justify-content: center;
    margin: 0;
    min-height: 100vh;
    width: 100vw;
  }
</style>

<button data-modify="-1">-1</button>
<button data-set="25">25</button>
<time>00:00</time>
<button data-set="5">5</button>
<button data-modify="1">+1</button>

<script>
  let running, end;

  const tick = () => {
    const t = end - new Date().getTime();
    const m = String(Math.max(Math.floor(t / 60000), 0));
    const s = String(Math.max(Math.floor((t % 60000) / 1000), 0));
    document.title = `${m.padStart(2, '0')}:${s.padStart(2, '0')}`;
    document.querySelector('time').innerText = document.title;
    if (t < 0) running = false;
    else requestAnimationFrame(tick);
  };

  document.body.addEventListener('click', (e) => {
    if (e.target.dataset.modify && running) {
      end += Number(e.target.dataset.modify) * 60000;
    } else if (e.target.dataset.set) {
      end = new Date().getTime() + Number(e.target.dataset.set) * 60000;
      if (running) return;
      running = true;
      tick();
    }
  });
</script>
